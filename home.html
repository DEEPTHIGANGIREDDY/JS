<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button>Cart</button>
    /
    <button>clear cart</button>
    <div>

    </div>
    <script>
        let api=[
        {
        "id":1,
        "title":"iPhone 9",
        "description":"An apple mobile which is nothing like apple",
        "price":549,
        "discountPercentage":12.96,
        "rating":4.69,
        "stock":94,
        "brand":"Apple",
        "category":"smartphones",
        "thumbnail":"https://i.dummyjson.com/data/products/1/thumbnail.jpg",
        },
        {
        "id":2,
        "title":"iPhone X",
        "description":"SIM-Free, Model A19211 6.5-inch Super Retina HD display with OLED technology A12 Bionic chip with ...",
        "price":899,
        "discountPercentage":17.94,
        "rating":4.44,
        "stock":34,
        "brand":"Apple",
        "category":"smartphones",
        "thumbnail":"https://i.dummyjson.com/data/products/2/thumbnail.jpg",
        },
        {
        "id":3,
        "title":"Samsung Universe 9",
        "description":"Samsung's new variant which goes beyond Galaxy to the Universe",
        "price":1249,
        "discountPercentage":15.46,
        "rating":4.09,
        "stock":36,
        "brand":"Samsung",
        "category":"smartphones",
        "thumbnail":"https://i.dummyjson.com/data/products/3/thumbnail.jpg",
        "images":[
        "https://i.dummyjson.com/data/products/3/1.jpg"
        ]
        },{
        "id":4,
        "title":"OPPOF19",
        "description":"OPPO F19 is officially announced on April 2021.",
        "price":280,
        "discountPercentage":17.91,
        "rating":4.3,
        "stock":123,
        "brand":"OPPO",
        "category":"smartphones",
        "thumbnail":"https://i.dummyjson.com/data/products/4/thumbnail.jpg",
        "images":[
        "https://i.dummyjson.com/data/products/4/1.jpg",
        "https://i.dummyjson.com/data/products/4/2.jpg",
        "https://i.dummyjson.com/data/products/4/3.jpg",
        "https://i.dummyjson.com/data/products/4/4.jpg",
        "https://i.dummyjson.com/data/products/4/thumbnail.jpg"
        ]
        }]
        
        let divgetting=document.getElementsByTagName("div")

        api.filter((val,ind)=>{
            let h1creating=document.createElement("h1")
            let imgcreating=document.createElement("img")
            let btncreating=document.createElement("button")

            let btngetting=document.getElementsByTagName("button")

            btngetting[0].addEventListener("click",()=>{
                window.location.assign("./addcart.html")
            })

            btngetting[1].addEventListener("click",()=>{
                localStorage.clear()
            })

            h1creating.innerText=val.title
            imgcreating.setAttribute("src",val.images)
            imgcreating.style.width="100px"
            btncreating.innerText="Add to Cart"

            btncreating.addEventListener("click",()=>{

              let cartgetting = localStorage.getItem("Cart")

              let cart12 = cartgetting != null ? JSON.parse(cartgetting):[];

              cart12.push(api[ind])
              
              console.log(JSON.parse(cartgetting));
              localStorage.setItem("Cart",JSON.stringify(cart12))
            })

            divgetting[0].appendChild(h1creating) 
            divgetting[0].appendChild(imgcreating)
            divgetting[0].appendChild(btncreating)
            divgetting[0].style.border="2px solid black";

        })
    </script>
</body>
</html>